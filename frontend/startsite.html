<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" /> <!-- ensures umlauts are displayed correctly -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <!-- makes page mobile-friendly -->
  <title>SmartSubmit â€“ Startseite</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <style>
    /* BODY â€” defines gradient background and centers content */
    body {
      background: linear-gradient(135deg, #e9f2ff, #f9f9ff);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Inter", sans-serif;
    }

    /* LANGUAGE SWITCH â€” buttons in top-right corner */
    .language-switch {
      position: absolute;
      top: 1.5rem;
      right: 2rem;
    }

    .lang-btn {
      background: transparent;
      border: none;
      font-size: 0.9rem;
      font-weight: 500;
      color: #6c757d;
      margin-left: 0.3rem;
      padding: 0.3rem 0.6rem;
      border-radius: 0.6rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    /* ACTIVE LANGUAGE BUTTON â€” highlighted style */
    .lang-btn.active {
      background-color: #4b8df8;
      color: white;
      box-shadow: 0 2px 6px rgba(75, 141, 248, 0.3);
    }

    /* DASHBOARD CARD â€” main white container */
    .dashboard-card {
      background: white;
      padding: 2.5rem;
      border-radius: 1.5rem;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      text-align: center;
      width: 420px;
    }

    /* LOGOUT BUTTON â€” blue primary button */
    .btn-logout {
      background-color: #4b8df8;
      border-radius: 0.75rem;
      font-weight: 500;
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
    }

    .btn-logout:hover {
      background-color: #3a78db;
    }
  </style>
</head>

<body>
  <!-- LANGUAGE SWITCH -->
  <div class="language-switch text-end">
    <button class="lang-btn active" id="lang-de">ðŸ‡©ðŸ‡ª DE</button>
    <button class="lang-btn" id="lang-en">ðŸ‡¬ðŸ‡§ EN</button>
  </div>

  <!-- MAIN CARD -->
  <div class="dashboard-card">
    <h2 id="welcome-title">ðŸ‘‹ Willkommen bei SmartSubmit</h2>
    <p id="welcome-text">Du hast dich erfolgreich eingeloggt.</p>
    <button id="logoutBtn" class="btn-logout mt-3">Abmelden</button>
  </div>

  <script>
    /* --------------------------------------------------------
       â‘  TRANSLATIONS â€” text for both languages
       -------------------------------------------------------- */
    const translations = {
      de: {
        title: "ðŸ‘‹ Willkommen bei SmartSubmit",
        text: "Du hast dich erfolgreich eingeloggt.",
        logout: "Abmelden",
        hello: "Willkommen, ",
      },
      en: {
        title: "ðŸ‘‹ Welcome to SmartSubmit",
        text: "You have successfully logged in.",
        logout: "Log out",
        hello: "Welcome, ",
      },
    };

    /* --------------------------------------------------------
       â‘¡ UPDATE LANGUAGE â€” dynamically change visible text
       -------------------------------------------------------- */
    function updateLanguage(lang, email) {
      const t = translations[lang];
      document.getElementById("welcome-title").textContent = t.title;
      document.getElementById("welcome-text").textContent =
        t.hello + (email || "User") + "!";
      document.getElementById("logoutBtn").textContent = t.logout;
      localStorage.setItem("lang", lang);
    }

    /* --------------------------------------------------------
       â‘¢ SET ACTIVE BUTTON â€” highlight current language
       -------------------------------------------------------- */
    function setActiveButton(lang) {
      document.querySelectorAll(".lang-btn").forEach((btn) => {
        btn.classList.toggle("active", btn.id === `lang-${lang}`);
      });
    }

    /* --------------------------------------------------------
       â‘£ INIT â€” load language and user info on page load
       -------------------------------------------------------- */
    document.addEventListener("DOMContentLoaded", () => {
      const savedLang = localStorage.getItem("lang") || "de"; // load saved language
      const userEmail = localStorage.getItem("userEmail") || ""; // get stored user email
      updateLanguage(savedLang, userEmail);
      setActiveButton(savedLang);

      // Listen for language switch
      document.getElementById("lang-de").addEventListener("click", () => {
        updateLanguage("de", userEmail);
        setActiveButton("de");
      });

      document.getElementById("lang-en").addEventListener("click", () => {
        updateLanguage("en", userEmail);
        setActiveButton("en");
      });
    });

    /* --------------------------------------------------------
       â‘¤ LOGOUT â€” clear user info and go back to login page
       -------------------------------------------------------- */
    document.getElementById("logoutBtn").addEventListener("click", () => {
      localStorage.removeItem("userEmail");
      window.location.href = "login.html";
    });
  </script>
</body>
</html>
